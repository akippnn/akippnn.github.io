const userPref=window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark",currentTheme=localStorage.getItem("theme")??userPref,syntaxTheme=document.querySelector("#theme-link");function waitForElm(e){return new Promise(t=>{if(document.querySelector(e))return t(document.querySelector(e));const n=new MutationObserver(s=>{document.querySelector(e)&&(t(document.querySelector(e)),n.disconnect())});n.observe(document.body,{childList:!0,subtree:!0})})}class Giscus{constructor(){this.dark={setConfig:{theme:"noborder_dark"}},this.light={setConfig:{theme:"noborder_light"}}}giscusSendMessage(n){const e="iframe.giscus-frame";document.querySelector(e)||waitForElm(e).then(e=>{console.log("Element is ready"),console.log(e.textContent)});const t=document.querySelector(e);if(!t){console.error("Giscus: iframe could not be found");return}t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}function setTheme(e){if(e!=="dark"&&e!=="light"){console.log(`Not a theme: ${e}`);return}document.documentElement.setAttribute("saved-theme",e),e==="dark"?(syntaxTheme.href="https://akippnn.github.io/styles/_dark_syntax.bec558461529f0dd343a0b008c343934.min.css",giscusInterface.giscusSendMessage(giscusInterface.dark)):(syntaxTheme.href="https://akippnn.github.io/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css",giscusInterface.giscusSendMessage(giscusInterface.light))}const giscusInterface=new Giscus;currentTheme&&setTheme(currentTheme);const switchTheme=e=>{e.target.checked?(localStorage.setItem("theme","dark"),setTheme("dark")):(localStorage.setItem("theme","light"),setTheme("light"))};window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#darkmode-toggle");e.addEventListener("change",switchTheme,!1),currentTheme==="dark"&&(e.checked=!0)})